<!DOCTYPE html>
<html lang="zh-Hant">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>抽籤網頁</title>
    <style>
        body {
            font-family: "Noto Serif TC", serif; /* 使用Noto Serif TC字體 */
            text-align: center;
            background-color: #F8F4E3; /* 淺米黃色背景 */
            color: #5D4037; /* 深棕色文字 */
            padding: 20px;
            margin: 0;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            min-height: 100vh;
        }
        h1 {
            color: #BF360C; /* 橘紅色標題 */
            text-shadow: 1px 1px 2px #000000; /* 黑色陰影 */
            font-size: 2.5em;
            margin-bottom: 20px;
        }
        button {
            background-color: #BF360C; /* 橘紅色按鈕 */
            color: white;
            border: none;
            padding: 10px 20px;
            margin-top: 20px;
            border-radius: 5px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s;
        }
        button:hover {
            background-color: #D84315; /* 深橘紅色 */
        }
        #result, #lotContent, #coinTossResult {
            margin-top: 20px;
            font-size: 18px;
        }
        #coinToss {
            display: none;
            margin-top: 20px;
        }
        .coin {
            width: 100px;
            height: 100px;
            display: inline-block;
            background-size: cover;
        }
        .coin.flip {
            animation: flip 2s linear infinite;
        }
        @keyframes flip {
            0% { transform: rotateY(0); }
            50% { transform: rotateY(180deg); }
            100% { transform: rotateY(360deg); }
        }
        @media (max-width: 600px) {
            .coin {
                width: 80px;
                height: 80px;
            }
            button {
                padding: 8px 16px;
                font-size: 14px;
            }
        }
    </style>
</head>
<body>
    <h1>抽籤</h1>
    <button id="drawLotBtn">抽取籤</button>
    <div id="result"></div>
    <div id="prompt" style="display:none;">請示網府千歲是否是這支簽</div>
    <button id="tossCoinsBtn" style="display:none;">擲茭</button>
    <div id="coinToss">
        <div class="coin" id="coin1"></div>
        <div class="coin" id="coin2"></div>
    </div>
    <div id="coinTossResult"></div>
    <div id="lotContent"></div>
    <script>
        document.getElementById('drawLotBtn').addEventListener('click', drawLot);
        document.getElementById('tossCoinsBtn').addEventListener('click', tossCoins);

        const ganZhi = [
            "甲子", "乙丑", "丙寅", "丁卯", "戊辰", "己巳", "庚午", "辛未", "壬申", "癸酉",
            "甲戌", "乙亥", "丙子", "丁丑", "戊寅", "己卯", "庚辰", "辛巳", "壬午", "癸未",
            "甲申", "乙酉", "丙戌", "丁亥", "戊子", "己丑", "庚寅", "辛卯", "壬辰", "癸巳",
            "甲午", "乙未", "丙申", "丁酉", "戊戌", "己亥", "庚子", "辛丑", "壬寅", "癸卯",
            "甲辰", "乙巳", "丙午", "丁未", "戊申", "己酉", "庚戌", "辛亥", "壬子", "癸丑",
            "甲寅", "乙卯", "丙辰", "丁巳", "戊午", "己未", "庚申", "辛酉", "壬戌", "癸亥"
        ];

        let currentLotNumber = 0;

        function drawLot() {
            currentLotNumber = Math.floor(Math.random() * 60) + 1;
            const lotGanZhi = ganZhi[currentLotNumber - 1];
            document.getElementById('result').innerText = `您抽到的籤號是：${currentLotNumber} (${lotGanZhi})`;
            document.getElementById('prompt').style.display = 'block';
            document.getElementById('tossCoinsBtn').style.display = 'block';
            document.getElementById('coinTossResult').innerText = '';
            document.getElementById('lotContent').innerText = '';
        }

        function tossCoins() {
            document.getElementById('coinToss').style.display = 'block';
            document.getElementById('coin1').classList.add('flip');
            document.getElementById('coin2').classList.add('flip');

            setTimeout(() => {
                document.getElementById('coin1').classList.remove('flip');
                document.getElementById('coin2').classList.remove('flip');

                const coin1 = Math.random() > 0.5 ? '正' : '反';
                const coin2 = Math.random() > 0.5 ? '正' : '反';
                const resultType = getResultType(coin1, coin2);

                document.getElementById('coin1').style.backgroundImage = coin1 === '正' ? 'url("正面.png")' : 'url("反面.png")';
                document.getElementById('coin2').style.backgroundImage = coin2 === '正' ? 'url("正面.png")' : 'url("反面.png")';

                document.getElementById('coinTossResult').innerText = `擲茭結果：${coin1} 和 ${coin2} (${resultType})`;

                if (resultType === '聖茭') {
                    document.getElementById('lotContent').innerText = `籤詩內容：這是籤號${currentLotNumber} (${ganZhi[currentLotNumber - 1]})的籤詩`;
                } else {
                    document.getElementById('lotContent').innerHTML = `
                        <p>${resultType}，再抽一次？</p>
                        <button onclick="drawLot()">再抽一次</button>
                    `;
                }
            }, 2000);
        }

        function getResultType(coin1, coin2) {
            if (coin1 === '正' && coin2 === '反' || coin1 === '反' && coin2 === '正') {
                return '聖茭';
            } else if (coin1 === '反' && coin2 === '反') {
                return '笑茭';
            } else {
                return '陰茭';
            }
        }
    </script>
</body>
</html>
